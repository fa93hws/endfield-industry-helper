# ç»ˆæœ«åœ°åŸºç¡€è®¾æ–½åŠ©æ‰‹

https://endfield-industry-helper.pages.dev/

ä¸€ä¸ªå¸®åŠ©ä½ æŸ¥çœ‹å’Œç®¡ç†ç»ˆæœ«åœ°ï¼ˆEndfieldï¼‰æ¸¸æˆä¸­å„ç§ç”Ÿäº§é…æ–¹çš„å“åº”å¼ Web åº”ç”¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“‹ **é…æ–¹æµè§ˆ** - æŸ¥çœ‹å„ç±»ç‰©å“çš„ç”Ÿäº§é…æ–¹
- ğŸ§® **ç”Ÿäº§è®¡ç®—å™¨** - è®¡ç®—è¾¾åˆ°ç›®æ ‡äº§é‡æ‰€éœ€çš„åŸææ–™å’Œä¸­é—´äº§ç‰©
- ğŸ­ **åˆ†ç±»ç®¡ç†** - æŒ‰ç±»å‹åˆ†ç»„æ˜¾ç¤ºé…æ–¹ï¼ˆçŸ¿çŸ³ã€æ¤ç‰©ã€è¯å“ã€ç”µæ± ã€è£…å¤‡ç»„ä»¶ã€ç“¶å­ï¼‰
- ğŸ”„ **å¤šé…æ–¹æ”¯æŒ** - å¯¹äºåŒä¸€äº§å‡ºç‰©çš„å¤šä¸ªé…æ–¹ï¼Œç¬¬ä¸€ä¸ªæ­£å¸¸å±•ç¤ºï¼Œå…¶ä½™é…æ–¹é»˜è®¤æŠ˜å 
- ğŸ” **æœç´¢åŠŸèƒ½** - å¿«é€ŸæŸ¥æ‰¾ç‰©å“å’Œé…æ–¹
- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…å„ç§å±å¹•å°ºå¯¸
- ğŸ¨ **Material Design** - ä½¿ç”¨ Material-UI ç»„ä»¶åº“
- ğŸ¤– **æ•°æ®è‡ªåŠ¨ç”Ÿæˆ** - ä» CSV æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹å’Œæ•°æ®

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18.3.1 + TypeScript 5.7.2
- **UI åº“**: Material-UI (MUI) v7.3.7
- **æ„å»ºå·¥å…·**: Vite 6.0.5
- **SSG/è·¯ç”±**: Vike 0.4.208
- **æµ‹è¯•**: Vitest 4.0.18 + React Testing Library
- **ç»„ä»¶å¼€å‘**: Storybook 8.6.15

## å®‰è£…

ä½¿ç”¨ pnpm å®‰è£…ä¾èµ–ï¼š

```bash
pnpm install
```

## å¼€å‘

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
pnpm page:dev
```

è®¿é—® http://localhost:3000 æŸ¥çœ‹åº”ç”¨ã€‚

### å¯åŠ¨ Storybook

```bash
pnpm storybook:dev
```

è®¿é—® http://localhost:6006 æŸ¥çœ‹ç»„ä»¶æ–‡æ¡£ã€‚

## æ„å»º

æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š

```bash
pnpm page:build
```

## æµ‹è¯•

è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼š

```bash
pnpm test
```

## ä»£ç è´¨é‡

### ç±»å‹æ£€æŸ¥

```bash
pnpm lint:ts:type
```

### ESLint æ£€æŸ¥

```bash
pnpm lint:ts
```

### ä»£ç æ ¼å¼åŒ–

```bash
pnpm format
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ receipts/              # é…æ–¹å’Œç‰©å“æ•°æ®æ¨¡å—
â”‚   â”œâ”€â”€ generated/         # è‡ªåŠ¨ç”Ÿæˆçš„ TypeScript æ–‡ä»¶ï¼ˆè¯·å‹¿æ‰‹åŠ¨ç¼–è¾‘ï¼‰
â”‚   â”‚   â”œâ”€â”€ items.ts       # ç‰©å“æ•°æ®ã€ç±»å‹å’Œæšä¸¾
â”‚   â”‚   â””â”€â”€ receipts.ts    # é…æ–¹æ•°æ®å’Œç±»å‹
â”‚   â””â”€â”€ index.ts           # æ•°æ®å¯¼å‡ºå’Œå…¼å®¹æ€§å±‚
â”œâ”€â”€ pages/                 # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ calculator/        # ç”Ÿäº§è®¡ç®—å™¨é¡µé¢
â”‚   â”œâ”€â”€ receipts/          # é…æ–¹æµè§ˆé¡µé¢
â”‚   â””â”€â”€ index/             # é¦–é¡µ
â””â”€â”€ ui/                    # UI ç»„ä»¶
    â”œâ”€â”€ layout/            # å¸ƒå±€ç»„ä»¶
    â”œâ”€â”€ recipe/            # é…æ–¹ç›¸å…³ç»„ä»¶
    â””â”€â”€ routes/            # è·¯ç”±é…ç½®

tools/
â””â”€â”€ receipt_gen/           # æ•°æ®ç”Ÿæˆå·¥å…·
    â”œâ”€â”€ csv/               # æºæ•°æ®ï¼ˆCSV æ ¼å¼ï¼‰
    â”‚   â”œâ”€â”€ items.csv      # ç‰©å“æ•°æ®
    â”‚   â””â”€â”€ receipts.csv   # é…æ–¹æ•°æ®
    â”œâ”€â”€ generate_items.ts  # ç‰©å“æ•°æ®ç”Ÿæˆå™¨
    â”œâ”€â”€ generate_receipts.ts # é…æ–¹æ•°æ®ç”Ÿæˆå™¨
    â””â”€â”€ index.ts           # ç”Ÿæˆå™¨å…¥å£

tests/                     # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ receipts/              # æ•°æ®å®Œæ•´æ€§æµ‹è¯•
â”œâ”€â”€ tools/receipt_gen/     # ç”Ÿæˆå™¨æµ‹è¯•
â”œâ”€â”€ pages/                 # é¡µé¢ç»„ä»¶æµ‹è¯•
â””â”€â”€ ui/                    # UI ç»„ä»¶æµ‹è¯•

public/
â””â”€â”€ images/
    â””â”€â”€ items/             # ç‰©å“å›¾ç‰‡ï¼ˆWebP æ ¼å¼ï¼‰
```

## æ•°æ®ç®¡ç†

æœ¬é¡¹ç›®ä½¿ç”¨ CSV æ–‡ä»¶ä½œä¸ºæ•°æ®æºï¼Œé€šè¿‡è‡ªåŠ¨ç”Ÿæˆå·¥å…·è½¬æ¢ä¸º TypeScript ä»£ç ã€‚

### æ›´æ–°æ•°æ®

1. ç¼–è¾‘ CSV æ–‡ä»¶ï¼š
   - `tools/receipt_gen/csv/items.csv` - ç‰©å“æ•°æ®
   - `tools/receipt_gen/csv/receipts.csv` - é…æ–¹æ•°æ®

2. è¿è¡Œç”Ÿæˆå™¨ï¼š

   ```bash
   pnpm run autogen
   ```

3. ç”Ÿæˆçš„æ–‡ä»¶ä¼šè‡ªåŠ¨æ›´æ–°åˆ° `src/receipts/generated/`

### CSV æ ¼å¼

**items.csv**

```csv
category,id,english_name,chinese_name
ore_refined,carbon,Carbon,ç¢³
battery,battery_valley_hc,High Capacity Valley Battery,é«˜å®¹è°·åº•ç”µæ± 
```

**receipts.csv**

```csv
out_1_item,out_1_qty,in_1_item,in_1_qty,in_2_item,in_2_qty
carbon,30,buckflower,30,,
amethyst_component,6,amethyst_part,30,origocrust,30
```

### æ•°æ®å®Œæ•´æ€§

é¡¹ç›®åŒ…å«å®Œæ•´çš„æ•°æ®éªŒè¯æµ‹è¯•ï¼š

- æ‰€æœ‰ç‰©å“éƒ½æœ‰å¯¹åº”çš„å›¾ç‰‡æ–‡ä»¶
- æ‰€æœ‰åˆ¶é€ ç‰©å“éƒ½åœ¨è‡³å°‘ä¸€ä¸ªé…æ–¹çš„è¾“å‡ºä¸­
- æ‰€æœ‰é…æ–¹å¼•ç”¨çš„ç‰©å“éƒ½å­˜åœ¨
- æ‰€æœ‰é…æ–¹æ•°æ®ç»“æ„å®Œæ•´ä¸”æœ‰æ•ˆ

è¿è¡Œæµ‹è¯•ç¡®ä¿æ•°æ®å®Œæ•´æ€§ï¼š

```bash
pnpm test
```

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## å¼€æºåè®®

ISC

## é“¾æ¥

- [GitHub ä»“åº“](https://github.com/fa93hws/endfield-infra-helper)
